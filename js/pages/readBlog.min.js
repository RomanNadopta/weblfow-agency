import"../utils/toggleMenu.js";import{singleBlogUrl,getElement}from"../utils/utils.js";const blogTitleDOM=getElement(".blog-title"),blogAuthorDOM=getElement(".blog__author-name"),blogDateDOM=getElement(".blog__date"),sourceImgDOM=getElement(".source-img"),singleBlogImgDOM=getElement(".single-blog__img"),pageReadBlogDOM=getElement(".page-read__blog");window.addEventListener("DOMContentLoaded",(async function(){let e=window.location.search.slice(4);try{const t=await fetch(`${singleBlogUrl}${e}`);if(t.status>=200&&t.status<=299){const e=await t.json(),{fields:l,readBlog:n}=e,{author:a,data:s,alt:o,blogTitle:i}=l,g=l.image[0].desktop,{firstTitle:r,secondTitle:c,thirdTitle:d,firstDesc:m,secondDesc:b,firstListItem:_,secondListItem:p,thirdListItem:u,thirdDesc:D,image:h,alt:M}=n;document.title=`${i} | Weblow Agency`,blogTitleDOM.textContent=i,blogAuthorDOM.textContent=a,blogDateDOM.textContent=s,sourceImgDOM.srcset=`${g}.webp`,singleBlogImgDOM.src=`${g}.jpg`,singleBlogImgDOM.alt=o,pageReadBlogDOM.innerHTML=`\n      <article class="read-blog" data-aos="fade-up">\n        <h3 class="read-blog__title">\n         ${r}\n        </h3>\n        <p class="read-blog__text">\n          ${m}\n        </p>\n      </article>\n\n      <article class="read-blog" data-aos="fade-up">\n        <h3 class="read-blog__title">${c}</h3>\n        <p class="read-blog__text">\n        ${b}\n        </p>\n        <ul class="article-list read-blog__list"></ul>\n        <p class="read-blog__text">\n       ${D}\n        </p>\n        <picture>\n          <source\n            type="image/webp"\n            srcset="${h}.webp"\n          />\n          <img\n            src="${h}.jpg"\n            alt="${M}"\n          />\n        </picture>\n      </article>\n\n      <article class="read-blog" data-aos="fade-up">\n        <h3 class="read-blog__title">\n          ${d}\n        </h3>\n        <p class="read-blog__text">\n         ${D}\n        </p>\n      </article> \n      `;const O=getElement(".read-blog__list"),$=[_,p,u];O.innerHTML=$.map((e=>{if(e)return`<li class="article-item read-blog__item">\n        ${e}\n      </li>`})).join("")}else console.log(t.status,t.statusText)}catch(e){console.log(e)}let t=setInterval((()=>{AOS.init({delay:200,duration:1500,once:!1,mirror:!1,anchorPlacement:"top-bottom"}),clearInterval(t)}),200,AOS)}));